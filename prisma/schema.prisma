generator client {
  provider = "prisma-client-js"
  output   = "../src/generated/prisma"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model UseCase {
  id                       String   @id @default(uuid())
  title                    String
  problemStatement         String
  proposedAISolution       String
  currentState             String
  desiredState             String
  businessFunction         String
  primaryStakeholders      String[]
  secondaryStakeholders    String[]
  successCriteria          String[]
  problemValidation        String
  solutionHypothesis       String
  keyAssumptions           String[]
  initialROI               String
  confidenceLevel          Int
  operationalImpactScore   Int
  productivityImpactScore  Int
  revenueImpactScore       Int
  implementationComplexity Int
  estimatedTimeline        String
  requiredResources        String
  createdAt                DateTime @default(now())
  updatedAt                DateTime @updatedAt
  priority                 String?
  stage                    String?
  finopsData               FinOps[]
}

model FinOps {
  monthYear                String    
  useCaseId                String
  devCost                  Float
  infraCost                Float
  apiCost                  Float
  opCost                   Float
  cumCost                  Float
  valueGenerated           Float
  ROI                      Float
  netValue                 Float
  monthlyProfit            Float
  totalLifetimeValue       Float
  useCase                  UseCase @relation(fields: [useCaseId], references: [id])
  @@id([monthYear, useCaseId])
}

